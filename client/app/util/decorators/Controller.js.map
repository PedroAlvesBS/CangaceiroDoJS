{"version":3,"sources":["../../../app-src/util/decorators/Controller.js"],"names":["controller","seletores","elements","map","seletor","document","querySelector","constructor","construtorOriginal","construtorNovo","instance","Object","getOwnPropertyNames","prototype","forEach","property","Reflect","hasMetadata","associaEvento","getMetadata","metadado","selector","addEventListener","event","prevent","preventDefault","propertyKey"],"mappings":";;;AAAO,aAASA,UAAT,CAAoB,GAAGC,SAAvB,EAAkC;AACrC,cAAMC,WAAWD,UAAUE,GAAV,CAAcC,WAC3BC,SAASC,aAAT,CAAuBF,OAAvB,CADa,CAAjB;;AAGA,eAAO,UAASG,WAAT,EAAqB;;AAExB,kBAAMC,qBAAqBD,WAA3B;;AAEA,kBAAME,iBAAiB,YAAW;AAC9B,sBAAMC,WAAW,IAAIF,kBAAJ,CAAuB,GAAGN,QAA1B,CAAjB;AACAS,uBAAOC,mBAAP,CAA2BJ,mBAAmBK,SAA9C,EACKC,OADL,CACaC,YAAY;AACjB,wBAAGC,QAAQC,WAAR,CAAoB,WAApB,EAAiCP,QAAjC,EAA2CK,QAA3C,CAAH,EAAwD;AACpDG,sCAAcR,QAAd,EACIM,QAAQG,WAAR,CAAoB,WAApB,EAAiCT,QAAjC,EAA2CK,QAA3C,CADJ;AAGH;AACJ,iBAPL;AAQH,aAVD;;AAYAN,2BAAeI,SAAf,GAA2BL,mBAAmBK,SAA9C;;AAEA,mBAAOJ,cAAP;AACH,SAnBD;AAoBH;;0BAxBeT,U;;AA0BhB,aAASkB,aAAT,CAAuBR,QAAvB,EAAiCU,QAAjC,EAA2C;AACvCf,iBACKC,aADL,CACmBc,SAASC,QAD5B,EAEKC,gBAFL,CAEsBF,SAASG,KAF/B,EAEsCA,SAAS;AACvC,gBAAGH,SAASI,OAAZ,EAAqBD,MAAME,cAAN;AACrBf,qBAASU,SAASM,WAAlB,EAA+BH,KAA/B;AACH,SALL;AAMH","file":"Controller.js","sourcesContent":["export function controller(...seletores) {\n    const elements = seletores.map(seletor =>\n        document.querySelector(seletor));\n\n    return function(constructor){\n\n        const construtorOriginal = constructor;\n\n        const construtorNovo = function (){\n            const instance = new construtorOriginal(...elements);\n            Object.getOwnPropertyNames(construtorOriginal.prototype)\n                .forEach(property => {\n                    if(Reflect.hasMetadata('bindEvent', instance, property)){\n                        associaEvento(instance,\n                            Reflect.getMetadata('bindEvent', instance, property));\n\n                    }\n                });\n        }\n\n        construtorNovo.prototype = construtorOriginal.prototype;\n\n        return construtorNovo;\n    }\n}\n\nfunction associaEvento(instance, metadado) {\n    document\n        .querySelector(metadado.selector)\n        .addEventListener(metadado.event, event => {\n            if(metadado.prevent) event.preventDefault();\n            instance[metadado.propertyKey](event);\n        });\n}"]}